<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<style>
		.box{
			margin: 0 auto 10px auto;
			border: 1px solid chartreuse;
		}
	</style>
</head>
<body>
	<div class="box">
		<h1>练习 1</h1>
		<div id="inputArea">
			<label>Number A:<input id="radio-a" type="radio" name="math-obj" value="a"></label><input id="num-a" type="text">
			<label>Number B:<input id="radio-b" type="radio" name="math-obj" value="b"></label><input id="num-b" type="text">
		</div>
		<div id="btn-set">
			<button id="btn1">判断当前选中的输入框输入内容是否为数字</button>
			<button id="btn2">把 A 四舍五入为 B 个小数位数的数字</button>
			<button id="btn3">当前选中数字的绝对值</button>
			<button id="btn4">对当前选中的数字进行上舍入</button>
			<button id="btn5">对当前选中的数字进行下舍入</button>
			<button id="btn6">把当前选中的数字四舍五入为最接近的整数</button>
			<button id="btn7">返回 A 和 B 中的最高值</button>
			<button id="btn8">返回 A 和 B 中的最低值</button>
		</div>
		<p id="result"></p>
	</div>

	<div class="box">
		<h1>练习 2</h1>
		<div>
			<label>String A:
				<input id="radio-a2" type="radio" checked="true" name="str-obj" value="a">
			</label>
			<textarea id="str-a"></textarea>
			<label>String B:
				<input id="radio-b2" type="radio" name="str-obj" value="b">
			</label>
			<textarea id="str-b"></textarea>
			<label>Num A：<input id="num-a2" type="number" value="0"></label>
			<label>Num B：<input id="num-b2" type="number" value="1"></label>
		</div>
		<div id="btn-set2">
			<button id="btn21">获取当前选中输入的内容长度</button>
			<button id="btn22">当前选中输入中的第3个字符</button>
			<button id="btn23">把两个输入框的文字连接在一起输出（concat）</button>
			<button id="btn24">输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
			<button id="btn25">输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
			<button id="btn26">使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
			<button id="btn27">当前选中输入框的行数</button>
			<button id="btn28">使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
			<button id="btn29">把所选输入框中的内容全部转为大写</button>
			<button id="btn210">把所选输入框中的内容全部转为小写</button>
			<button id="btn211">把所选输入框中内容的半角空格全部去除</button>
			<button id="btn212">把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
		</div>
		<p id="result2"></p>
	</div>

	<div class="box">
		<h1>练习 3</h1>
		<p>在控制台中查看</p>
	</div>

	<div class="box">
		<h1>练习 5 - 队列头在右侧</h1>
		<input id="queue-input" type="text">
		<p id="queue-cont">队列内容：apple-&gt;pear</p>
		<div id="exe5BtnSet">
			<button id="in-btn">入队</button>
			<button id="out-btn">出队</button>
			<button id="font-btn">打印队头元素内容</button>
			<button id="empty-btn">判断队列是否为空</button>
		</div>
	</div>

	<div class="box">
		<h1>练习 6 - 队列头在左侧</h1>
		<input id="queue-input2" type="text">
		<p id="queue-cont2">队列内容：apple&lt;-pear</p>
		<div id="exe5BtnSet2">
			<button id="in-btn2">入队</button>
			<button id="out-btn2">出队</button>
			<button id="font-btn2">打印队头元素内容</button>
			<button id="empty-btn2">判断队列是否为空</button>
		</div>
	</div>

	<div class="box">
		<h1>练习 7 - 栈头在右侧</h1>
		<input id="queue-input3" type="text">
		<p id="queue-cont3">队列内容：apple&gt;-pear</p>
		<div id="exe5BtnSet3">
			<button id="in-btn3">进栈</button>
			<button id="out-btn3">退栈</button>
			<button id="font-btn3">打印栈头元素内容</button>
			<button id="empty-btn3">判断队列是否为空</button>
		</div>
	</div>

	<div class="box">
		<h1>练习 8 - 栈头在左侧</h1>
		<input id="queue-input4" type="text">
		<p id="queue-cont4">队列内容：apple&lt;-pear</p>
		<div id="exe5BtnSet4">
			<button id="in-btn4">进栈</button>
			<button id="out-btn4">退栈</button>
			<button id="font-btn4">打印栈头元素内容</button>
			<button id="empty-btn4">判断队列是否为空</button>
		</div>
	</div>

	<div class="box">
		<h1>练习 9</h1>
		<p>在控制台中查看</p>
	</div>

	<div class="box">
		<h1>练习 10</h1>
		<p>在控制台中查看</p>
	</div>

</body>
<!--练习 倒计时-->
<script>
	//公用方法
	var checkBtn = function(btnA, btnB){
		return (btnA.checked === false && btnB.checked === false) ? 'noBtnChecked' : btnA.checked ? 'A' : 'B';;
	};

	//练习 倒计时
	var result = document.querySelector('#result');
	var numberABtn = document.querySelector('#radio-a');
	var numberBBtn = document.querySelector('#radio-b');

	var checkNum = function(num){
		return isNaN(num) ? false : typeof num === 'number'
	};


	// 用时间代理的方式绑定按钮
	document.querySelector('#btn-set').addEventListener('click',function () {
		var numberA = document.querySelector('#num-a');
		var numberB = document.querySelector('#num-b');
		var num = 0;
		// 判断哪个按钮选中

		//获取a和b的输入值
		numberA = parseFloat(numberA.value);
		numberB = parseFloat(numberB.value);
		var ev = ev || window.event;
		var target = ev.target || ev.srcElement;

		if (checkBtn(numberABtn, numberBBtn) === 'noBtnChecked'){
			alert('没有选中radio按钮');
		} else{
			if (target.nodeName.toLocaleLowerCase() === 'button'){
				switch (target.id){
					case 'btn1':
						num = checkBtn(numberABtn, numberBBtn) === 'A' ? numberA : numberB;
						result.textContent = checkNum(numberA) ? `输出为 ${num}` : '输入不为数字, 请重新输入';
						break;
					case 'btn2':
						result.textContent = checkNum(numberA) ? `输出为 ${numberA.toFixed(numberB)}` : '输入不为数字, 请重新输入';
						break;
					//绝对值
					case 'btn3':
						num = checkBtn(numberABtn, numberBBtn) === 'A' ? numberA : numberB;
						result.textContent = checkNum(num) ? `输出为 ${Math.abs(num)}` : '输入不为数字, 请重新输入';
						break;
					//向上进行四舍五入
					case 'btn4':
						num = checkBtn(numberABtn, numberBBtn) === 'A' ? numberA : numberB;
						result.textContent = checkNum(num) ? `输出为 ${Math.ceil(num)}` : '输入不为数字, 请重新输入';
						break;
					//向下进行四舍五入
					case 'btn5':
						num = checkBtn(numberABtn, numberBBtn) === 'A' ? numberA : numberB;
						result.textContent = checkNum(num) ? `输出为 ${Math.floor(num)}` : '输入不为数字, 请重新输入';
						break;
					//把数四舍五入为最接近的整数
					case 'btn6':
						num = checkBtn(numberABtn, numberBBtn) === 'A' ? numberA : numberB;
						result.textContent = checkNum(num) ? `输出为 ${Math.round(num)}` : '输入不为数字, 请重新输入';
						break;
					// 取A 和 B 中的 最大值
					case 'btn7':
						if(checkNum(numberA) && checkNum(numberB)){
							result.textContent = numberA > numberB ? `输出为 ${numberA}` : `输出为 ${numberB}`;
						}
						break;
					// 取A 和 B 中的 最小值
					case 'btn8':
						if(checkNum(numberA) && checkNum(numberB)){
							result.textContent = numberA > numberB ? `输出为 ${numberB}` : `输出为 ${numberA}`;
						}
						break;
					default:
						break;
				}
			}
		}
	})
</script>

<!--//练习 3-->
<script>
	//练习 3
	var result2 = document.querySelector('#result2');
	var numberABtn2 = document.querySelector('#radio-a2');
	var numberBBtn2 = document.querySelector('#radio-b2');

	// 用时间代理的方式绑定按钮
	document.querySelector('#btn-set2').addEventListener('click',function () {
		var numberA = document.querySelector('#num-a2');
		var numberB = document.querySelector('#num-b2');
		var strA = document.querySelector('#str-a').value;
		var strB = document.querySelector('#str-b').value;
		var tempStr = '';
		var ev = ev || window.event;
		var target = ev.target || ev.srcElement;

		//获取a和b的输入值
		numberA = parseFloat(numberA.value);
		numberB = parseFloat(numberB.value);

		//判断是否点击radio btn
		if (checkBtn(numberABtn2, numberBBtn2) === 'noBtnChecked'){
			alert('没有选中radio按钮');
		} else{
			if (target.nodeName.toLocaleLowerCase() === 'button'){
				switch (target.id){
					case 'btn21':
						result2.textContent = `字符串长度为 ${strA.length}`;
						break;
					case 'btn22':
						tempStr = checkBtn(numberABtn2, numberBBtn2) === 'A' ? strA : strB;
						result2.textContent = `字符串当前输入中的第三个字符 ${tempStr.charAt(3)}`;
						break;
					case 'btn23':
						result2.textContent = '2个文字框连接一起 '+strA + strB;
						break;
					case 'btn24':
						result2.textContent = `B中的内容, 在A内容中第一次出现的位置 ${strA.indexOf(strB)}`;
						break;
					case 'btn25':
						result2.textContent = `A中的内容, 在B内容中第一次出现的位置 ${strB.indexOf(strA)}`;
						break;
					case 'btn26':
						tempStr = checkBtn(numberABtn2, numberBBtn2) === 'A' ? strA : strB;
						result2.textContent = `使用slice获取选中输入框的部分内容 ${tempStr.slice(numberA, numberB)}`
						break;
					// 获取行数
					case 'btn27':
						tempStr = checkBtn(numberABtn2, numberBBtn2) === 'A' ? strA : strB;
						result2.textContent = `使用框行数 ${tempStr.split(/\n/).length} 行`
						break;
					case 'btn28':
						tempStr = checkBtn(numberABtn2, numberBBtn2) === 'A' ? strA : strB;
						result2.textContent = `使用slice获取选中输入框的部分内容 ${tempStr.substr(numberA, numberB)}`
						break;
					case 'btn29':
						tempStr = checkBtn(numberABtn2, numberBBtn2) === 'A' ? strA : strB;
						result2.textContent = `大写: ${tempStr.toUpperCase()}`
						break;
					case 'btn210':
						tempStr = checkBtn(numberABtn2, numberBBtn2) === 'A' ? strA : strB;
						result2.textContent = `小写: ${tempStr.toLowerCase()}`
						break;
					case 'btn211':
						tempStr = checkBtn(numberABtn2, numberBBtn2) === 'A' ? strA : strB;
						result2.textContent = `去除半角空格 ${tempStr.replace(/ /g,'')}`
						break;
					case 'btn212':
						if (checkBtn(numberABtn2, numberBBtn2) === 'A'){
							result2.textContent = `替换输入内容的a为另一个输入框内容 ${strA.replace(/a/g,strB)}`
						}else{
							result2.textContent = `替换输入内容的a为另一个输入框内容 ${strB.replace(/a/g,strA)}`
						}
						break;
					default:
						break;
				}
			}
		}
	})
</script>

<!--//练习 3-->
<script>
	/*
实现一个字符串头尾去除空格的函数
注意需要去除的空格，包括全角、半角空格
暂时不需要学习和使用正则表达式的方式
*/
	function diyTrim(str) {
		var result = str.replace(/\s/g,'');
		return result;
	}

	// 测试用例
	console.log('\n\n\n 练习3 \n\n\n');
	console.log(diyTrim(' a f b    ')); // ->a f b
	console.log(diyTrim('    ffdaf    ')); // ->ffdaf
	console.log(diyTrim('1    ')); // ->倒计时
	console.log(diyTrim('　　f')); // ->f
	console.log(diyTrim('  　  a f b 　　 ')); // ->a f b
	console.log(diyTrim(' ')); // ->
	console.log(diyTrim('　')); // ->
	console.log(diyTrim('')); // ->

	/*
	去掉字符串str中，连续重复的地方
	*/
	function removeRepetition(str) {
		var result = "";
		for (var i = 0; i < str.length; i++){
			if (result.indexOf(str.charAt(i)) < 0){
				result += str.charAt(i);
			}
		}
		return result;
	}

	// 测试用例
	console.log(removeRepetition("aaa")); // ->a
	console.log(removeRepetition("abbba")); // ->aba
	console.log(removeRepetition("aabbaabb")); // ->abab
	console.log(removeRepetition("")); // ->
	console.log(removeRepetition("abc")); // ->abc

</script>

<!--练习 4-->
<script>
	console.log('\n\n\n 练习4 \n\n\n');
	var tree = {
		"id": 0,
		"name": "root",
		"left": {
			"id": 1,
			"name": "Simon",
			"left": {
				"id": 3,
				"name": "Carl",
				"left": {
					"id": 7,
					"name": "Lee",
					"left": {
						"id": 11,
						"name": "Fate"
					}
				},
				"right": {
					"id": 8,
					"name": "Annie",
					"left": {
						"id": 12,
						"name": "Saber"
					}
				}
			},
			"right": {
				"id": 4,
				"name": "Tony",
				"left": {
					"id": 9,
					"name": "Candy"
				}
			}
		},
		"right": {
			"id": 2,
			"name": "right",
			"left": {
				"id": 5,
				"name": "Carl",
			},
			"right": {
				"id": 6,
				"name": "Carl",
				"right": {
					"id": 10,
					"name": "Kai"
				}
			}
		}
	}
	//根据名字找id
	console.log('\n根据name找到对应的id：');
	console.log('name:root, id:' + findIdByName('root')); // ->0
    console.log('name:Carl, id:' + findIdByName('Carl')); // ->3
    console.log('name:Annie, id:' + findIdByName('Annie')); // ->8
    console.log('name:Kai, id:' + findIdByName('Kai')); // ->10
	
	//根据id找名字
	console.log('\n根据id找到对应的name：');
    console.log('id:2, name:' + findNameById(1)); // ->Simon
    console.log('id:10, name:' + findNameById(10)); // ->Kai
    console.log('id:12, name:' + findNameById(12)); // ->Saber

    //前序遍历
	console.log('\n所有名字前序遍历：');
    getListWithDLR();
    
	//中序遍历
    console.log('\n所有名字中序遍历：');
    getListWithLDR();
    
	//后续遍历
    console.log('\n所有名字后序遍历：');
    getListWithLRD();
	
	// 假设id和name均不会重复，根据输入name找到对应的id
	function findIdByName(name) {
		var loop = function (obj) {
          // 对象不存在时返回
          if (!obj) return false;
          // 判断名字并返回id
          if (obj.name === name) return obj.id;
          // 进入下个循环
          // a||b 当a为false时会运行b, 0会被当成false需特殊处理
          return loop(obj.left) || loop(obj.right);
        };
        // 从根tree开始执行循环
        return loop(tree);
	}

	// 假设id和name均不会重复，根据输入id找到对应的name
	function findNameById(id) {
		//  创建循环方法
        var loop = function (obj) {
          // 对象不存在时返回
          if (!obj) return false;
          // 判断id并返回name
          if (obj.id === id) return obj.name;
          // 进入下个循环
          // a||b 当a为false时会运行b, 0会被当成false需特殊处理
          return loop(obj.left) || loop(obj.right);
        };
        // 从根tree开始执行循环
        return loop(tree);
	}

	// 把这个对象中所有的名字以“前序遍历”的方式全部输出到console中
	function getListWithDLR() {
		var loop = function (obj) {
          console.log(obj.name);
          if (obj.left) loop(obj.left);
          if (obj.right) loop(obj.right);
        };
        loop(tree);
	}

	// 把这个对象中所有的名字以“中序遍历”的方式全部输出到console中
	function getListWithLDR() {
		var loop = function (obj) {
          if (obj.left) loop(obj.left);
          console.log(obj.name);
          if (obj.right) loop(obj.right);
        };
        loop(tree);
	}

	// 把这个对象中所有的名字以“后序遍历”的方式全部输出到console中
	function getListWithLRD() {
		var loop = function (obj) {
          if (obj.left) loop(obj.left);
          if (obj.right) loop(obj.right);
          console.log(obj.name);
        };
        loop(tree);
	}
</script>

<!--练习 5-->
<script>
	var stack = ["apple", "pear"];
	var exe5Result = document.querySelector('#queue-cont');

	// 添加事件委托
	document.querySelector('#exe5BtnSet').addEventListener('click',function () {
		var input = document.querySelector('#queue-input').value;
		var ev = ev || window.event;
		var target = ev.target || ev.srcElement;
		switch (target.id){
			// 推入队列
			case 'in-btn':
				if (input !== ''){
					stack.push(input);
					exe5Result.textContent = `队列为 ${stack.join('->')}`;
				}else{
					exe5Result.textContent = `输入不能为空`
				}
				break;
			// 推出队列
			case 'out-btn':
				stack.pop();
				exe5Result.textContent = `队列为 ${stack.join('->')}`;
				break;
			// 检查队列
			case 'empty-btn':
				exe5Result.textContent = stack.length === 0 ? '队列为空' : '队列不为空';
				break;
			// 队列头
			case 'font-btn':
				exe5Result.textContent = `队列头为 ${stack[stack.length - 1]}`;
				break;
			default:
				break;
		}
	})

</script>

<!--练习 6-->
<script>
	var stack6 = ["apple", "pear"];
	var exe5Result2 = document.querySelector('#queue-cont2');

	// 添加事件委托
	document.querySelector('#exe5BtnSet2').addEventListener('click',function () {
		var input = document.querySelector('#queue-input2').value;
		var ev = ev || window.event;
		var target = ev.target || ev.srcElement;
		switch (target.id){
			// 推入队列
			case 'in-btn2':
				if (input !== ''){
					stack6.unshift(input)
					exe5Result2.textContent = `队列为 ${stack6.join('<-')}`;
				}else{
					exe5Result2.textContent = `输入不能为空`
				}
				break;
			// 推出队列
			case 'out-btn2':
				stack6.shift();
				exe5Result2.textContent = `队列为 ${stack6.join('<-')}`;
				break;
			// 检查队列
			case 'empty-btn2':
				exe5Result2.textContent = stack6.length === 0 ? '队列为空' : '队列不为空';
				break;
			// 队列头
			case 'font-btn2':
				exe5Result2.textContent = `队列头为 ${stack6[0]}`;
				break;
			default:
				break;
		}
	})

</script>

<!--练习 7-->
<script>
	var stack7 = ["apple", "pear"];
	var exe5Result3 = document.querySelector('#queue-cont3');

	// 添加事件委托
	document.querySelector('#exe5BtnSet3').addEventListener('click',function () {
		var input = document.querySelector('#queue-input3').value;
		var ev = ev || window.event;
		var target = ev.target || ev.srcElement;
		switch (target.id){
			// 推入队列
			case 'in-btn3':
				if (input !== ''){
					stack7.push(input)
					exe5Result3.textContent = `栈为 ${stack7.join('->')}`;
				}else{
					exe5Result3.textContent = `输入不能为空`
				}
				break;
			// 推出队列
			case 'out-btn3':
				stack7.pop();
				exe5Result3.textContent = `栈为 ${stack7.join('->')}`;
				break;
			// 检查队列
			case 'empty-btn3':
				exe5Result3.textContent = stack7.length === 0 ? '栈为空' : '栈不为空';
				break;
			// 队列头
			case 'font-btn3':
				exe5Result3.textContent = `栈头为 ${stack7[0]}`;
				break;
			default:
				break;
		}
	})

</script>

<!--练习 8-->
<script>
	var stack8 = ["apple", "pear"];
	var exe5Result4 = document.querySelector('#queue-cont4');

	// 添加事件委托
	document.querySelector('#exe5BtnSet4').addEventListener('click',function () {
		var input = document.querySelector('#queue-input4').value;
		var ev = ev || window.event;
		var target = ev.target || ev.srcElement;
		switch (target.id){
			// 推入队列
			case 'in-btn4':
				if (input !== ''){
					stack8.unshift(input)
					exe5Result4.textContent = `栈为 ${stack8.join('<-')}`;
				}else{
					exe5Result4.textContent = `输入不能为空`
				}
				break;
			// 推出队列
			case 'out-btn4':
				stack8.shift();
				exe5Result4.textContent = `栈为 ${stack8.join('<-')}`;
				break;
			// 检查队列
			case 'empty-btn4':
				exe5Result4.textContent = stack8.length === 0 ? '栈为空' : '栈不为空';
				break;
			// 队列头
			case 'font-btn4':
				exe5Result4.textContent = `栈头为 ${stack8[0]}`;
				break;
			default:
				break;
		}
	})

</script>

<!-- 练习 9-->
<script>
	var arr1 = ['apple', 'dog', 'cat', 'car', 'zoo', 'orange', 'airplane'];
	var arr2 = [43, 54, 4, -4, 84, 100, 58, 27, 140];
	var arr3 = [[10, 14], [16, 60], [7, 44], [26, 35], [22, 63]];
	var arr4 = [
		{
			id: 1,
			name: 'candy',
			value: 40
		}, {
			id: 2,
			name: 'Simon',
			value: 50
		}, {
			id: 3,
			name: 'Tony',
			value: 45
		}, {
			id: 4,
			name: 'Annie',
			value: 60
		}
	];
	console.log('\n\n\n 练习 9 \n\n\n');
	console.log('\n 9.1 \n\n');
	console.log(arr1.sort());
	console.log(arr1.reverse());

	console.log('\n 9.2 \n\n');
	var sortArr1 = arr2.sort(function (x,y) {
		if (x > y){
			return 1;
		}else if (x < y){
			return -1;
		}else{
			return 0;
		}
	})
	console.log(sortArr1);
	var sortArr2 = arr2.sort(function (x,y) {
		if (x > y){
			return -1;
		}else if (x < y){
			return 1;
		}else{
			return 0;
		}
	})
	console.log(sortArr2);
	var sortArr3 = arr3.sort(function (x,y) {
		if (x[1] > y[1]){
			return -1;
		}else if (x[1] < y[1]){
			return 1;
		}else{
			return 0;
		}
	})
	console.log(sortArr3);
	console.log('\n 9.3 \n\n');
	var sortArr4 = arr4.sort(function (x,y) {
		return x.value -y.value;
	})
	console.log(sortArr4);

</script>

<!--练习 10-->
<script>
	var arrs = [];
	var scoreObject = {
		"Tony": {
			"Math": 95,
			"English": 79,
			"Music": 68
		},
		"Simon": {
			"Math": 100,
			"English": 95,
			"Music": 98
		},
		"Annie": {
			"Math": 54,
			"English": 65,
			"Music": 88
		}
	}
	for (var key in scoreObject) {
		var person = scoreObject[key];
		arrs.push([key, person.Math, person.English, person.Music]);
	}
	console.log(arrs);
</script>

<!--练习 11-->
<script>
	var menuArr = [
		[1, "Area1", -1],
		[2, "Area2", -1],
		[3, "Area1-1", 1],
		[4, "Area1-2", 1],
		[5, "Area2-1", 2],
		[6, "Area2-2", 2],
		[7, "Area1-2-3", 4],
		[8, "Area2-2-1", 6],
	];

	
    // 遍历数组组装对象，不处理数据异常情况
    var menuObject = {};
        
    // 循环查找父级元素
    var objectLoop = function(obj, id) {
    	// 存放元素
   		var parent = null;
    	// 根据id查找key
        for(key in obj) {
            if (key === id) {
              // 存在key但并非对象，需先处理成对象
              if (!obj[key]) obj[key] = {};
              // 找到后退出循环
              parent = obj[key];
              break;
            } else if (obj[key].subMenu) {
              // 继续查找子级
              parent = objectLoop(obj[key].subMenu, id);
              // 找到后退出循环
              if (parent) break;
            }
        }
        return parent;
    }
    menuArr.map(function(item) {
        // key转化为字符串
        var keyP = item[2].toString(); // 父级key
        var keyC = item[0].toString(); // 数据对应key值
        // 查找父级
        var parentObj = objectLoop(menuObject, keyP);
        // 无父级时，父级为根对象
        if (!parentObj) {
        	menuObject[keyC] = { name: item[1] };
        } else {
        // 若subMenu非对象，需先处理成对象
        if (!parentObj.subMenu) parentObj.subMenu = {};
            parentObj.subMenu[keyC] = { name: item[1] };
          }
        })
	console.log(menuObject);
</script>
</html>